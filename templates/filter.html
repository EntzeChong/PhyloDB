{% extends 'base.html' %}

{% block jquery %}
    <link rel='stylesheet' type='text/css' href="../media/dynatree/ui.dynatree.css">
    <script src="../media/dynatree/jquery.dynatree.js" type="text/javascript"></script>
{% endblock %}

{% block pagetitle %}
    <title>Filter</title>
{% endblock %}

{% block dynatree %}
    <script type="text/javascript">

        $(function () {
            $("#tree").dynatree({
            });
        });

    </script>
{% endblock %}


{% block content %}
    <br>
    <h2>Selected projects/samples:</h2>
    <div id="tree" border="0">
        <ul>
            {% for project in projects %}
                <li id="{{ project.projectid }}" class="folder" title="{{ project.project_desc }}">{{ project.project_name }}
                    <ul>
                    {% for sample in samples %}
                        {% if sample.projectid_id == project.projectid %}
                            <li id="{{ sample.sampleid }}" title="{{ sample.title }}">{{ sample.sample_name }}
                        {% endif %}
                    {% endfor %}
                    </ul>
            {% endfor %}
        </ul>
    </div>
    <br><br>

    <h2>Data filtering:</h2>
    <p>See 'Metagenassist for details...</p>
    <form>
        <!-- main table -->
        <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
                <td>
                    <!-- table one -->
                    <table width="100%" border="2" cellspacing="0" cellpadding="1">
                        <tr>
                            <td>
                                <div>
                                    <input type="checkbox" name="remove_unassigned" value="unassigned">
                                    Exclude unassigned & unmapped reads<br>
                                    <input type="checkbox" name="remove_zeroes" value="abundance">
                                    Remove variables with over <input type="text" name="cutoff" value="50" size="3"
                                                                      maxlength="3"> percent
                                    zeroes<br>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <!-- end table one -->
                </td>
            </tr>
            <tr>
                <td>
                    <!-- table two -->
                    <table width="100%" border="2" cellspacing="0" cellpadding="1">
                        <tr>
                            <td>
                                <div id="filter">
                                    <input type="radio" name="filter" value="IQR">Interquantile range (IQR)<br>
                                    <input type="radio" name="filter" value="CV">Coefficient of variation(CV)<br>
                                    <input type="radio" name="filter" value="SD">Standard deviation (SD)<br>
                                    <input type="radio" name="filter" value="Mean">Mean abundance value<br>
                                    <input type="radio" name="filter" value="Media">Median abundance value<br>
                                    <input type="radio" name="filter" value="None">None<br>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <!-- end table two -->
                </td>
            </tr>
        </table>
        <p><input name="clickMe" type="submit" value="Submit"/></p>
    </form>
{% endblock %}