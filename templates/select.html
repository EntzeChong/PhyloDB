{% extends 'base.html' %}

{% block jquery %}
    <script src="../media/jquery/jquery.js" type="text/javascript"></script>
    <script src="../media/jquery/jquery-ui.custom.js" type="text/javascript"></script>
    <script src="../media/jquery/jquery.cookie.js" type="text/javascript"></script>

    <link rel='stylesheet' type='text/css' href="../media/skin/ui.dynatree.css">
    <script src="../media/jquery.dynatree.js" type="text/javascript"></script>
{% endblock %}

{% block pagetitle %}
    <title>Select</title>
{% endblock %}

{% block dynatree %}
    <script type="text/javascript">
        $(function () {
            $("#tree").dynatree({
                checkbox: true,
                selectMode: 3,
                initAjax: {
                    url: "/getTree/",
                    dataType: "jsonp",
                    data: {}
                },

                onSelect: function (node) {
                    //updateChart();
                    //updateDataTable();
                },

                onActivate: function (node) {
                },
                persist: true,
                noLink: false,
                fx: { height: "toggle", duration: 200 },
                onPostInit: function (isReloading, isError) {
                    if (getStringOfSelectedTreeNodes() != '') {
                        //updateChart();
                        //updateDataTable();
                    }
                }
            });
        });
    </script>
{% endblock %}

{% block content %}
    <h2>Select any combination of data for analysis:</h2>
    <form>
        <table border="2">
            <th style="padding-right: 100px;">Project/Samples</th>
            <th style="padding-right: 100px;">Metadata</th>
            <th style="padding-right: 100px;">Taxonomy</th>
            <tr>
                <td>
                    <div id="tree"></div>
                </td>
                <td>Tree2</td>
                <td>Tree3</td>
            </tr>
        </table>
        <br>
        <input style="font-size: 12px;" type="submit" name="Upload"/>
        <input style="font-size: 12px;" type="reset" name="Reset"/>
    </form>
{% endblock %}